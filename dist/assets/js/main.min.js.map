{"version":3,"sources":["main.js"],"names":["id1","id2","maxNumb","currentPage","document","querySelector","openSelect","intro","openCompare","addEventListener","introDisplayNone","lexique","toggleLexique","body","hasAttribute","removeAttribute","setAttribute","open","toggleSelect","innerHTML","querySelectorAll","forEach","box","console","log","classList","remove","toggleCompare","listcar","fetch","then","response","json","data","tab","i","length","listimg","createElement","appendChild","choix","add","e","leftcar","currentTarget","id","rightcar","getElementById","textContent","name","year","graphArray","GraphGenerator"],"mappings":"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","file":"main.min.js","sourcesContent":["/* eslint-disable no-undef */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-inner-declarations */\n\"use strict\";\n\n\n// LEXIQUE\nlet id1 = null;\nlet id2 = null;\nlet maxNumb = 0;\nlet currentPage = document.querySelector(\".cta--lexique\");\nlet openSelect = document.querySelector(\".cta--changer\");\nlet intro = document.querySelector(\".cta--intro\");\n// let select = document.querySelector(\".cta--changer\");\n// let compare = document.querySelector(\".cta--comparer\");\nlet openCompare = document.querySelector(\".cta--comparer\");\n\nif (currentPage != null) {\n    intro.addEventListener(\"click\", introDisplayNone);\n    let lexique = document.querySelector(\".cta--lexique\");\n    lexique.addEventListener(\"click\", toggleLexique);\n\n    // //OPEN LEXIQUE\n    // toggleLexique();\n    function toggleLexique() {\n        if (document.body.hasAttribute(\"data-lexique\")) {\n            document.body.removeAttribute(\"data-lexique\");\n        } else {\n            document.body.setAttribute(\"data-lexique\", true);\n        }\n    }\n}\n\nif (openSelect != null) {\n    let open = document.querySelector(\".cta--changer\");\n    open.addEventListener(\"click\", toggleSelect);\n\n    //OPEN SELECT\n    function toggleSelect() {\n        if (document.body.hasAttribute(\"data-select\")) {\n            document.body.removeAttribute(\"data-select\");\n            openSelect.innerHTML = \"Changer\";\n        } else {\n            document.body.setAttribute(\"data-select\", true);\n            openSelect.innerHTML = \"Fermer\";\n            openSelect.setAttribute('disabled', true)\n            id1 = null;\n            id2 = null;\n            maxNumb = 0;\n\n            document.querySelectorAll('.selected').forEach((box) => {\n                console.log('bing')\n                box.classList.remove('selected')\n            })\n        }\n    }\n}\n\nif (openCompare != null) {\n    let open = document.querySelector(\".cta--comparer\");\n    open.addEventListener(\"click\", toggleCompare);\n\n    //OPEN COMPARE\n    function toggleCompare() {\n        if (document.body.hasAttribute(\"data-compare\")) {\n            document.body.removeAttribute(\"data-compare\");\n            openCompare.innerHTML = \"Comparer\";\n        } else {\n            document.body.setAttribute(\"data-compare\", true);\n            openCompare.innerHTML = \"Fermer\";\n        }\n    }\n}\n\n\n\nfunction introDisplayNone() {\n    document.body.setAttribute(\"data-intro\", true);\n}\n\n\n// JSON\n\n// var car1 = document.querySelector(\".car1\");\nvar listcar = document.querySelector(\".listcar\");\n\n\nfetch(('assets/data/data.json'))\n    .then((response) => {\n        return response.json()\n    })\n    .then((data) => {\n        var tab = data;\n        console.log(tab)\n\n        //Boucle affichage voitures\n\n        for (var i = 0; i < data.length; i++) {\n            var listimg = document.createElement(\"img\");\n            listcar.appendChild(listimg);\n            listimg.setAttribute(\"class\", \"choix\");\n            listimg.setAttribute(\"id\", + (i + 1));\n            listimg.setAttribute(\"src\", \"assets/images/car\" + (i + 1) + \".jpg\");\n        }\n\n\n        // DOUBLE SELECTION\n\n        var choix = document.querySelectorAll(\".choix\");\n\n        for (let i = 0; i < choix.length; i++) {\n            choix[i].classList.add(i + 1)\n\n\n\n            choix[i].addEventListener(\"click\", (e) => {\n\n\n                if (maxNumb < 2) {\n                    console.log(maxNumb)\n\n                    if (id1 !== null) {\n                        id2 = e.currentTarget.id\n                    } else {\n                        id1 = e.currentTarget.id\n                    }\n\n                    e.currentTarget.classList.add(\"selected\")\n\n                    if (id1 !== null && id2 !== null) {\n                        openSelect.removeAttribute('disabled')\n                        console.log(\"_____id1_id2_sont_prêtes_____\")\n                        var leftcar = document.querySelector(\".mustang-left\");\n                        var rightcar = document.querySelector(\".mustang-right\");\n\n                        leftcar.setAttribute(\"src\", \"assets/images/car\" + id1 + \".jpg\")\n                        leftcar.setAttribute(\"srcset\", \"assets/images/car\" + id1 + \"@2x.jpg 2x\")\n                        rightcar.setAttribute(\"src\", \"assets/images/car\" + id2 + \".jpg\")\n                        rightcar.setAttribute(\"srcset\", \"assets/images/car\" + id2 + \"@2x.jpg 2x\")\n                        document.getElementById('name-left').textContent = tab[id1].name;\n                        document.getElementById('year-left').textContent = tab[id1].year;\n                        document.getElementById('name-right').textContent = tab[id2].name;\n                        document.getElementById('year-right').textContent = tab[id2].year;\n\n                        GraphGenerator();\n                    }\n\n                    maxNumb += 1;\n                }\n\n\n\n            })\n        }\n\n\n\n\n        // GRAPHS GENERATOR\n        function GraphGenerator() {\n            console.log('bienvenue dans la fonction')\n\n            let graphArray = document.querySelectorAll('.canvas')\n            console.log(graphArray)\n            console.log(graphArray[1])\n\n            // let ctx1 = document.querySelector(\"#myChart1\");\n\n            // let tabVehicles = {\n            //     vehicle1: {\n            //         \"pourcentage\": tab[id1 - 1].pourcentage,\n            //         \"year\": tab[id1 - 1].year,\n            //         \"id\": tab[id1 - 1].id,\n            //     },\n            //     vehicle2: {\n            //         \"pourcentage\": tab[id2 - 1].pourcentage,\n            //         \"year\": tab[id2 - 1].year,\n            //         \"id\": tab[id2 - 1].id,\n            //     }\n            // }\n\n            // console.log(tabVehicles.vehicle1)\n            // console.log(tabVehicles.vehicle2)\n\n            // var comparatorbtn = document.querySelector(\".comparator\");\n            // comparatorbtn.addEventListener(\"click\", () => {\n            //     let valueVehicle1 = Object.values(tabVehicles.vehicle1);\n            //     let valueVehicle2 = Object.values(tabVehicles.vehicle2);\n\n            //     console.log(valueVehicle1);\n            //     console.log(valueVehicle2);\n\n\n            //     //Création Chart\n\n            //     let graph1 = new Chart(ctx1, {\n            //         type: 'bar',\n            //         data: {\n            //             labels: [1, 2],\n            //             datasets: [{\n            //                 data: [valueVehicle1[0], valueVehicle2[0]],\n            //                 label: {\n            //                     display: false\n            //                 },\n            //                 backgroundColor: [\n            //                     'rgba(255, 99, 132, 1)',\n            //                     'rgba(54, 162, 235, 1)'],\n            //                 maxBarThickness: 20,\n            //             }],\n            //         },\n            //         options: {\n            //             plugins: {\n            //                 legend: false,\n            //             },\n            //             scales: {\n            //                 x: {\n            //                     display: false,\n            //                     grid: {\n            //                         offset: false\n            //                     }\n            //                 },\n            //                 y: {\n            //                     display: false,\n            //                 }\n            //             },\n            //             indexAxis: 'y',\n            //         }\n            //     })\n            // })\n        }\n\n\n        // Attention ici : pour pouvoir itérer sur chacun des graphiques, il va falloir passer par un QuerySelectorAll, qui renvoie un tableau plutôt qu'une valeur, et cela sous-entend une itération pour appliquer chaque tableau\n        //  → s'assurer que le code fonctionne bien pour la première, puis passer directement à l'itération dans le tableau issu par QuerySelectorAll afin d'éviter de perdre du temps.\n\n\n\n\n    })"]}